Version 4
SHEET 1 2280 680
WIRE -112 -512 -112 -544
WIRE -112 -400 -112 -432
WIRE 720 -400 720 -416
WIRE 176 -352 176 -368
WIRE 720 -304 720 -320
WIRE 176 -256 176 -272
WIRE -112 -176 -112 -304
WIRE 128 -176 -112 -176
WIRE 720 -160 720 -224
WIRE 832 -160 720 -160
WIRE -112 -128 -112 -176
WIRE 64 -128 -112 -128
WIRE 176 -128 176 -160
WIRE 272 -128 176 -128
WIRE 432 -128 368 -128
WIRE -112 -96 -112 -128
WIRE 64 -96 64 -128
WIRE 432 -80 432 -128
WIRE 672 -80 432 -80
WIRE 352 -64 352 -80
WIRE 432 -48 432 -80
WIRE 560 -48 432 -48
WIRE 560 -32 560 -48
WIRE 720 -32 720 -64
WIRE -112 -16 -112 -32
WIRE 64 0 64 -16
WIRE 112 0 112 -32
WIRE 128 0 112 0
WIRE 560 48 560 32
WIRE -112 80 -112 64
WIRE 720 80 720 48
WIRE -112 208 -112 192
WIRE -16 208 -16 192
WIRE 592 224 592 208
WIRE 592 320 592 304
WIRE -16 352 0 336
WIRE -16 448 -16 432
FLAG -112 288 0
FLAG -16 288 0
FLAG -112 192 Vdd
FLAG -16 192 Vreset
FLAG -112 80 0
FLAG 64 0 0
FLAG -112 -544 Vdd
FLAG -112 -352 0
FLAG 112 -80 0
FLAG 592 320 0
FLAG 592 208 Vsweep
FLAG 128 0 Vsweep
FLAG -160 -320 Vreset
FLAG 320 -128 0
FLAG 176 -368 Vdd
FLAG 176 -208 0
FLAG 432 128 0
FLAG 432 0 0
FLAG -208 288 0
FLAG -208 208 Vbias
FLAG 384 32 Vbias
FLAG 560 48 0
FLAG -16 448 0
FLAG 0 336 Access
FLAG 352 -64 Access
FLAG 720 80 0
FLAG 720 -416 Vdd
FLAG 832 -160 Vout
FLAG 720 -112 Vdd
FLAG -112 -176 VPD
SYMBOL voltage -112 192 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -16 192 R0
WINDOW 3 38 85 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 0 1p 1p 'durpulsos' 'tperiodo' 4)
SYMATTR InstName V2
SYMBOL nmos4 -160 -400 R0
SYMATTR InstName M1
SYMATTR Value2 l='Lmin' w='W' ad='W*Ld' as='W*Ld' pd='2*W+2*Ld' ps='2*W+2*Ld' m=1
SYMBOL g 64 0 R180
SYMATTR InstName G1
SYMATTR Value 1
SYMBOL voltage 592 208 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 40 75 Left 2
SYMATTR Value PULSE(0 'currentsweep' 200n 1p 1p 'tswcurrent' 'tperiodo' 2)
SYMATTR InstName V11
SYMBOL nmos4 128 -256 R0
SYMATTR InstName M2
SYMATTR Value2 l='Lmin' w='W' ad='W*Ld' as='W*Ld' pd='2*W+2*Ld' ps='2*W+2*Ld' m=1
SYMBOL nmos4 272 -80 R270
SYMATTR InstName M3
SYMATTR Value2 l='Lmin' w='W' ad='W*Ld' as='W*Ld' pd='2*W+2*Ld' ps='2*W+2*Ld' m=1
SYMBOL diode -96 -32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value photodiode
SYMBOL nmos4 384 -48 R0
SYMATTR InstName M4
SYMATTR Value2 l='Lbias' w='Wbias' ad='Wbias*Ld' as='Wbias*Ld' pd='2*Wbias+2*Ld' ps='2*Wbias+2*Ld' m=1
SYMBOL voltage -208 192 R0
SYMATTR InstName V4
SYMATTR Value 1.5
SYMBOL cap 544 -32 R0
SYMATTR InstName C1
SYMATTR Value 2p
SYMBOL voltage -16 336 R0
WINDOW 3 42 91 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 'taccess' 1p 1p 'durpulsos' 'tperiodo' 4)
SYMATTR InstName V3
SYMBOL pmos4 672 -160 R0
WINDOW 0 62 22 Left 2
WINDOW 3 54 72 Left 2
SYMATTR InstName M5
SYMATTR Value2 l='Lmin' w='Wbuf' ad='Ld*Wbuf' as='Ld*Wbuf' pd='2*Ld+2*Wbuf' ps='2*Ld+2*Wbuf' m=1
SYMBOL res 704 -320 R0
SYMATTR InstName R1
SYMATTR Value 80k
SYMBOL voltage -112 -528 R0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage -112 -32 R0
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL voltage 176 -368 R0
SYMATTR InstName V7
SYMATTR Value 0
SYMBOL voltage 432 32 R0
SYMATTR InstName V8
SYMATTR Value 0
SYMBOL voltage 720 -48 R0
SYMATTR InstName V9
SYMATTR Value 0
SYMBOL voltage 720 -416 R0
SYMATTR InstName V10
SYMATTR Value 0
TEXT 88 -616 Left 2 !.param tperiodo = 20u
TEXT 544 -576 Left 2 !*.include IEE3433Lib_TT.sp
TEXT 544 -512 Left 2 !.param Lmin = 0.6u, W = 3u, Ld=1.5u
TEXT 88 -536 Left 2 !.param tswcurrent = 'tperiodo'
TEXT -16 48 Left 2 !.param currentsweep=300p
TEXT 88 -568 Left 2 !.param durpulsos = 600n
TEXT 88 -504 Left 2 !*.ic V(Vdiodo) = 0
TEXT 544 -544 Left 2 !.model photodiode D (IS = 50f CJO=11.07f  VJ= 0.636 M=0.33)
TEXT 544 -608 Left 2 !.tran 60u
TEXT 544 -480 Left 2 !.param Lbias = 20.1u, Wbias = 5.1u
TEXT 88 -592 Left 2 !.param taccess = 18u
TEXT 88 -440 Left 2 !.param Wbuf=40u
TEXT 944 -200 Left 2 !*.step param Wbias 1u 10u 2u
TEXT 1048 -432 Left 2 !.include C5_models.txt
RECTANGLE Normal 0 32 -336 -480 2
RECTANGLE Normal 832 -208 640 -448 2
